# 系统运维tips

## 重启数据库
重启数据库需要根据数据内容、数据流入流出方向、影响程序在本地或远程等多个维度考虑重启数据库后对各业务进程的影响。
* 其中最重要的维度为数据内容，该数据库中包含了哪几类数据；  
* 然后在分类数据的基础上，各类数据的流入（insert、update、delete）/流出（query）功能使用的业务方分别有哪些；
* 再次，这些业务方和数据库部署在同一主机还是不同主机。  
分析出所有影响域后，在数据库重启后分别对各影响域中的业务进程进程重启或状态就绪操作，避免因数据库的重启影响业务进程。


##重启进程（20200506）
当发布一些的基础的服务库（如日志库）需要对所有的生产进程进行重启。我们的进程分为两类：一类为开机自启动进程，另一类为调度进程调起的进程。在重启所有进程时，被调度的进程一般由调度进程重启，开机自启动的进程由运维通过ansible手动杀死。
